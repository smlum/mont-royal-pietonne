---
import { astroI18n, t, l } from "astro-i18n";
import LangSwitcher from "./LangSwitcher.astro";
import GameLink from "./GameLink.astro";
import Logo from "./Logo.astro";

const { defaultLangCode, supportedLangCodes, langCode } = astroI18n;
const langCodes = [defaultLangCode, ...supportedLangCodes];
const otherLangCodes = langCodes.filter(
  (otherLangCode) => otherLangCode !== langCode
);
---

<header>
  <!-- <div id="game-link">
    <GameLink />
  </div> -->

  <div id="lang-switcher">
    <LangSwitcher {otherLangCodes} />
  </div>

  <div id="logo">
    <a href={l("/", {}, langCode)}>
      <Logo />
    </a>
  </div>

  <div id="header-description">
    <h2>{t("headerDescription")}</h2>
  </div>
</header>

<style>
  :root {
    --header-padding: 4rem;
    --header-text-drop-shadow: drop-shadow(0px 5px 5px #00000050);
  }
  header {
    display: flex;
    flex-direction: column;
    align-items: center;
    text-align: center;
    color: white;
    padding-bottom: var(--header-padding);
    margin-bottom: 2rem;
    background-image: linear-gradient(rgba(0, 0, 0, 0.2), rgba(0, 0, 0, 0.5)), url("/img/header-static.jpg");
    background-size: cover;
    background-size: cover;
    background-position: center;
  }

  #game-link {
    width: 100%;
    display: flex;
    justify-content: flex-start;
    padding: 0.25rem 0.5rem var(--header-padding);
  }

  #lang-switcher {
    width: 100%;
    display: flex;
    justify-content: flex-end;
    padding: 0.25rem 0.5rem var(--header-padding);
  }

  #logo {
    margin-bottom: 2rem;
    filter: var(--header-text-drop-shadow);
  }

  #logo a {
    display: block;
  }

  #logo a:hover {
    opacity: 0.8;
  }

  #header-description {
    max-width: 33rem;
    margin: 0 1.5rem;
    filter: var(--header-text-drop-shadow);
  }
</style>
